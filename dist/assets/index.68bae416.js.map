{"version":3,"file":"index.68bae416.js","sources":["../../vite/dynamic-import-polyfill","../../src/main.ts"],"sourcesContent":["const p = function polyfill(modulePath = '.', importFunctionName = '__import__') {\n    try {\n        self[importFunctionName] = new Function('u', `return import(u)`);\n    }\n    catch (error) {\n        const baseURL = new URL(modulePath, location);\n        const cleanup = (script) => {\n            URL.revokeObjectURL(script.src);\n            script.remove();\n        };\n        self[importFunctionName] = (url) => new Promise((resolve, reject) => {\n            const absURL = new URL(url, baseURL);\n            // If the module has already been imported, resolve immediately.\n            if (self[importFunctionName].moduleMap[absURL]) {\n                return resolve(self[importFunctionName].moduleMap[absURL]);\n            }\n            const moduleBlob = new Blob([\n                `import * as m from '${absURL}';`,\n                `${importFunctionName}.moduleMap['${absURL}']=m;`\n            ], { type: 'text/javascript' });\n            const script = Object.assign(document.createElement('script'), {\n                type: 'module',\n                src: URL.createObjectURL(moduleBlob),\n                onerror() {\n                    reject(new Error(`Failed to import: ${url}`));\n                    cleanup(script);\n                },\n                onload() {\n                    resolve(self[importFunctionName].moduleMap[absURL]);\n                    cleanup(script);\n                }\n            });\n            document.head.appendChild(script);\n        });\n        self[importFunctionName].moduleMap = {};\n    }\n};__VITE_IS_MODERN__&&p(\"assets/\");","// public\nimport { Assignment, ButtonType } from \"midi-mixer-plugin\";\n\n/**\n * Example of retrieving the plugin's settings.\n */\n$MM.getSettings().then((settings) => {\n  console.log(\"settings:\", settings);\n});\n\n/**\n * Example of setting up an assignment to be controlled by the plugin.\n */\nconst example = new Assignment(\"foo\", {\n  name: \"Example Plugin Entry\",\n});\n\nexample.on(\"volumeChanged\", (level: number) => {\n  example.volume = level;\n});\n\nexample.on(\"mutePressed\", () => {\n  example.muted = !example.muted;\n});\n\nexample.on(\"assignPressed\", () => {\n  example.assigned = !example.assigned;\n});\n\nexample.on(\"runPressed\", () => {\n  example.running = !example.running;\n});\n\n/**\n * Example of setting up a button type to be controlled by the plugin.\n */\nconst typeExample = new ButtonType(\"bar\", {\n  name: \"Example Button Type\",\n});\n\ntypeExample.on(\"pressed\", () => {\n  typeExample.active = !typeExample.active;\n});\n\n/**\n * Example of uses buttons and statuses to show the status of the plugin\n * on the settings page.\n *\n * We use the keys defined in the `settings` object of our `package.json` in\n * order to react to UI button presses and set resulting statuses.\n *\n * Using this is great for showing anything from \"Connected\" statuses to error\n * messages to your end users.\n */\n$MM.onSettingsButtonPress(\"run\", () => {\n  $MM.setSettingsStatus(\"status\", \"Running...\");\n\n  setTimeout(() => {\n    $MM.setSettingsStatus(\"status\", \"Done\");\n  }, 1000);\n});\n"],"names":["modulePath","importFunctionName","Function","error","baseURL","URL","location","cleanup","script","revokeObjectURL","src","remove","url","Promise","resolve","reject","absURL","self","moduleMap","moduleBlob","Blob","type","Object","assign","document","createElement","createObjectURL","[object Object]","Error","head","appendChild","p","$MM","getSettings","then","settings","log","example","Assignment","name","on","level","volume","muted","assigned","running","typeExample","ButtonType","active","onSettingsButtonPress","setSettingsStatus"],"mappings":"0CAAU,SAAkBA,EAAa,IAAKC,EAAqB,uBAEtDA,GAAsB,IAAIC,SAAS,IAAK,0BAE1CC,SACGC,EAAU,IAAIC,IAAIL,EAAYM,UAC9BC,EAAWC,QACTC,gBAAgBD,EAAOE,OACpBC,eAENV,GAAuBW,GAAQ,IAAIC,SAAQ,CAACC,EAASC,WAChDC,EAAS,IAAIX,IAAIO,EAAKR,MAExBa,KAAKhB,GAAoBiB,UAAUF,UAC5BF,EAAQG,KAAKhB,GAAoBiB,UAAUF,UAEhDG,EAAa,IAAIC,KAAK,CACxB,uBAAuBJ,MACvB,GAAGf,gBAAiCe,UACrC,CAAEK,KAAM,oBACLb,EAASc,OAAOC,OAAOC,SAASC,cAAc,UAAW,CAC3DJ,KAAM,SACNX,IAAKL,IAAIqB,gBAAgBP,GACzBQ,YACW,IAAIC,MAAM,qBAAqBhB,QAC9BJ,IAEZmB,WACYV,KAAKhB,GAAoBiB,UAAUF,MACnCR,eAGPqB,KAAKC,YAAYtB,WAEzBP,GAAoBiB,UAAY,IAEvBa,CAAE,WC9BxBC,IAAIC,cAAcC,MAAMC,YACdC,IAAI,YAAaD,MAM3B,MAAME,EAAU,IAAIC,aAAW,MAAO,CACpCC,KAAM,yBAGRF,EAAQG,GAAG,iBAAkBC,MACnBC,OAASD,KAGnBJ,EAAQG,GAAG,eAAe,OAChBG,OAASN,EAAQM,SAG3BN,EAAQG,GAAG,iBAAiB,OAClBI,UAAYP,EAAQO,YAG9BP,EAAQG,GAAG,cAAc,OACfK,SAAWR,EAAQQ,WAM7B,MAAMC,EAAc,IAAIC,aAAW,MAAO,CACxCR,KAAM,wBAGRO,EAAYN,GAAG,WAAW,OACZQ,QAAUF,EAAYE,UAapChB,IAAIiB,sBAAsB,OAAO,SAC3BC,kBAAkB,SAAU,0BAErB,SACLA,kBAAkB,SAAU,UAC/B"}