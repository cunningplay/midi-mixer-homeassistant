var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function e(t){var e={exports:{}};return t(e,e.exports),e.exports}var n=e((function(t){var e=Object.prototype.hasOwnProperty,n="~";function o(){}function r(t,e,n){this.fn=t,this.context=e,this.once=n||!1}function i(t,e,o,i,s){if("function"!=typeof o)throw new TypeError("The listener must be a function");var u=new r(o,i||t,s),a=n?n+e:e;return t._events[a]?t._events[a].fn?t._events[a]=[t._events[a],u]:t._events[a].push(u):(t._events[a]=u,t._eventsCount++),t}function s(t,e){0==--t._eventsCount?t._events=new o:delete t._events[e]}function u(){this._events=new o,this._eventsCount=0}Object.create&&(o.prototype=Object.create(null),(new o).__proto__||(n=!1)),u.prototype.eventNames=function(){var t,o,r=[];if(0===this._eventsCount)return r;for(o in t=this._events)e.call(t,o)&&r.push(n?o.slice(1):o);return Object.getOwnPropertySymbols?r.concat(Object.getOwnPropertySymbols(t)):r},u.prototype.listeners=function(t){var e=n?n+t:t,o=this._events[e];if(!o)return[];if(o.fn)return[o.fn];for(var r=0,i=o.length,s=new Array(i);r<i;r++)s[r]=o[r].fn;return s},u.prototype.listenerCount=function(t){var e=n?n+t:t,o=this._events[e];return o?o.fn?1:o.length:0},u.prototype.emit=function(t,e,o,r,i,s){var u=n?n+t:t;if(!this._events[u])return!1;var a,c,f=this._events[u],l=arguments.length;if(f.fn){switch(f.once&&this.removeListener(t,f.fn,void 0,!0),l){case 1:return f.fn.call(f.context),!0;case 2:return f.fn.call(f.context,e),!0;case 3:return f.fn.call(f.context,e,o),!0;case 4:return f.fn.call(f.context,e,o,r),!0;case 5:return f.fn.call(f.context,e,o,r,i),!0;case 6:return f.fn.call(f.context,e,o,r,i,s),!0}for(c=1,a=new Array(l-1);c<l;c++)a[c-1]=arguments[c];f.fn.apply(f.context,a)}else{var p,h=f.length;for(c=0;c<h;c++)switch(f[c].once&&this.removeListener(t,f[c].fn,void 0,!0),l){case 1:f[c].fn.call(f[c].context);break;case 2:f[c].fn.call(f[c].context,e);break;case 3:f[c].fn.call(f[c].context,e,o);break;case 4:f[c].fn.call(f[c].context,e,o,r);break;default:if(!a)for(p=1,a=new Array(l-1);p<l;p++)a[p-1]=arguments[p];f[c].fn.apply(f[c].context,a)}}return!0},u.prototype.on=function(t,e,n){return i(this,t,e,n,!1)},u.prototype.once=function(t,e,n){return i(this,t,e,n,!0)},u.prototype.removeListener=function(t,e,o,r){var i=n?n+t:t;if(!this._events[i])return this;if(!e)return s(this,i),this;var u=this._events[i];if(u.fn)u.fn!==e||r&&!u.once||o&&u.context!==o||s(this,i);else{for(var a=0,c=[],f=u.length;a<f;a++)(u[a].fn!==e||r&&!u[a].once||o&&u[a].context!==o)&&c.push(u[a]);c.length?this._events[i]=1===c.length?c[0]:c:s(this,i)}return this},u.prototype.removeAllListeners=function(t){var e;return t?(e=n?n+t:t,this._events[e]&&s(this,e)):(this._events=new o,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=n,u.EventEmitter=u,t.exports=u})),o=e((function(e,o){var r,s=t&&t.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),u=t&&t.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(o,"__esModule",{value:!0}),o.Assignment=void 0;var a=function(t){function e(e,n){var o,r,s,u,a,c,f=t.call(this)||this;f._name="",f._volume=1,f._meter=0,f._muted=!1,f._assigned=!1,f._running=!1,f._throttle=50;var l=(null!==(o=null==n?void 0:n.name)&&void 0!==o?o:"").trim();if(!e||!l)throw new Error("Must provide an ID and name to create an assignment.");return f.id=e,f.name=l,f.volume=null!==(r=n.volume)&&void 0!==r?r:1,f.meter=0,f.muted=Boolean(null!==(s=n.muted)&&void 0!==s&&s),f.assigned=Boolean(null!==(u=n.assigned)&&void 0!==u&&u),f.running=Boolean(null!==(a=n.running)&&void 0!==a&&a),f.throttle=null!==(c=n.throttle)&&void 0!==c?c:50,$MM.onVolume(f.id,(function(t){f.emit("volumeChanged",t)})),$MM.onPress(f.id,i.Button.Mute,(function(){f.emit("mutePressed")})),$MM.onPress(f.id,i.Button.Assign,(function(){f.emit("assignPressed")})),$MM.onPress(f.id,i.Button.Run,(function(){f.emit("runPressed")})),f}return s(e,t),e.prototype.remove=function(){$MM.removeAssignment(this.id)},Object.defineProperty(e.prototype,"name",{get:function(){return this._name},set:function(t){var e=t.trim();if(!e)throw new Error("Can't set an assignment name to be blank.");this._name!==e&&(this._name=e,$MM.updateAssignment(this.id,{name:this._name}))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"volume",{get:function(){return this._volume},set:function(t){var e=Math.min(1,Math.max(0,t));this._volume!==e&&(this._volume=e,$MM.setIndicator(this.id,i.Indicator.Volume,this._volume))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"meter",{get:function(){return this._meter},set:function(t){var e=this;this._meterTimer&&(clearTimeout(this._meterTimer),delete this._meterTimer);var n=Math.min(1,Math.max(0,t));this._meter=n,$MM.setIndicator(this.id,i.Indicator.Meter,this._meter),this._meterTimer=setTimeout((function(){e._meter=0}),150)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"muted",{get:function(){return this._muted},set:function(t){var e=Boolean(t);this._muted!==e&&(this._muted=e,$MM.setButtonIndicator(this.id,i.Button.Mute,this._muted))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"assigned",{get:function(){return this._assigned},set:function(t){var e=Boolean(t);this._assigned!==e&&(this._assigned=Boolean(t),$MM.setButtonIndicator(this.id,i.Button.Assign,this._assigned))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"running",{get:function(){return this._running},set:function(t){var e=Boolean(t);this._running!==e&&(this._running=Boolean(t),$MM.setButtonIndicator(this.id,i.Button.Run,this._running))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"throttle",{get:function(){return this._throttle},set:function(t){var e=Math.min(1e3,Math.max(50,t));this._throttle!==e&&(this._throttle=e,$MM.setThrottle(this.id,this._throttle))},enumerable:!1,configurable:!0}),e}(u(n).default);o.Assignment=a})),r=e((function(e,o){var r,s=t&&t.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),u=t&&t.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(o,"__esModule",{value:!0}),o.ButtonType=void 0;var a=function(t){function e(e,n){var o,r=t.call(this)||this;r._name="",r._active=!1;var s=(null!==(o=null==n?void 0:n.name)&&void 0!==o?o:"").trim();if(!e||!s)throw new Error("Must provide an ID and a name to create a button type.");return r.id=e,r.name=s,r.active=Boolean(n.active),$MM.onPress(r.id,i.Button.Generic,(function(){r.emit("pressed")})),r}return s(e,t),e.prototype.remove=function(){$MM.removeAssignment(this.id)},Object.defineProperty(e.prototype,"name",{get:function(){return this._name},set:function(t){var e=t.trim();if(!e)throw new Error("Can't set a button type name to be blank.");this._name!==e&&(this._name=e,$MM.updateButtonType(this.id,{name:e}))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"active",{get:function(){return this._active},set:function(t){var e=Boolean(t);this._active!==e&&(this._active=e,$MM.setButtonIndicator(this.id,i.Button.Generic,this._active))},enumerable:!1,configurable:!0}),e}(u(n).default);o.ButtonType=a})),i=e((function(e,n){var i,s,u=t&&t.__createBinding||(Object.create?function(t,e,n,o){void 0===o&&(o=n),Object.defineProperty(t,o,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,o){void 0===o&&(o=n),t[o]=e[n]}),a=t&&t.__exportStar||function(t,e){for(var n in t)"default"===n||Object.prototype.hasOwnProperty.call(e,n)||u(e,t,n)};Object.defineProperty(n,"__esModule",{value:!0}),n.Button=n.Indicator=void 0,a(o,n),a(r,n),(i=n.Indicator||(n.Indicator={})).Volume="volume",i.Meter="meter",(s=n.Button||(n.Button={})).Mute="mute",s.Assign="assign",s.Run="run",s.Generic="generic"}));export{i as C};
//# sourceMappingURL=vendor.2f6bd789.js.map
